INSTALACIÓN AUTOMÁTICA – ENTORNO HYPRLAND (JHEFF DOTFILES)
==========================================================

Requisitos:
- Arch Linux o derivado con pacman.
- Systemd-boot recomendado (el script ajusta /boot/loader si existe).
- Conexión a internet.

1. Clonar el repositorio
------------------------

Instala git si aún no lo tienes:

    sudo pacman -S git

(OPCIONAL) Instalar Dolphin (explorador de archivos) antes de correr el script:

    sudo pacman -S dolphin

Clona el repo e ingresa a la carpeta:

    git clone https://github.com/jefersonEspinoza29/proyecto-hyprland-final
    cd proyecto-hyprland-final

Da permisos de ejecución al instalador:

    chmod +x install.sh

Ejecuta el script **como usuario normal** (NO root):

    ./install.sh


2. ¿Qué hace el script?
-----------------------

2.1. Dependencias base
~~~~~~~~~~~~~~~~~~~~~~

Instala:

- git
- base-devel
- go-md2man

Necesarios para compilar paquetes AUR (yay, brillo, etc.).


2.2. Copia de dotfiles a ~/.config
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Copia estas carpetas desde el repo a:

    /home/<usuario>/.config

- eww
- gsimplecal
- hypr
- kitty
- matugen
- rofi
- waybar
- wlogout

Si ya existen, les hace backup:

    ~/.config/<carpeta>.bak.<timestamp>

Luego da permisos de ejecución a los scripts:

- ~/.config/eww/scripts/brightness_osd.sh
- ~/.config/eww/scripts/volume_osd.sh
- ~/.config/hypr/scripts/wallpaper.sh
- ~/.config/waybar/scripts/bluetooth-toggle.sh
- ~/.config/waybar/scripts/bluetooth-tray-toggle.sh
- ~/.config/waybar/scripts/gnome-calendar-toggle.sh
- ~/.config/waybar/scripts/nm-applet-toggle.sh
- ~/.config/waybar/scripts/playerctl.sh


2.3. Wallpapers
~~~~~~~~~~~~~~~

Crea la carpeta:

    ~/imagenes/wallpapers

y copia todos los fondos desde el repo, buscando en este orden:

- proyecto-hyprland-final/sources/wallpapers
- proyecto-hyprland-final/wallpapers

Estas imágenes son las que usa el script:

    ~/.config/hypr/scripts/wallpaper.sh

que apunta a:

    $HOME/imagenes/wallpapers


2.4. Instalación de yay (AUR helper)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Si yay no existe, el script:

- Clona: https://aur.archlinux.org/yay.git
- Compila e instala con:

    makepkg -si --noconfirm


2.5. Paquetes principales (pacman)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Instala, entre otros:

- Sesión / entorno:
    - sddm, hyprland, kitty, dolphin, gsimplecal, blueman, gnome-calendar, plymouth
- Audio y volumen:
    - playerctl, jq, brightnessctl, pavucontrol, pamixer
- Red:
    - networkmanager, network-manager-applet
- Navegador y editor:
    - firefox, code
- Drivers Intel:
    - mesa, mesa-utils, intel-media-driver, vulkan-intel, libva-intel-driver
- Drivers NVIDIA:
    - nvidia, nvidia-utils, nvidia-settings, nvidia-prime, vulkan-icd-loader
    - lib32-mesa, lib32-nvidia-utils, lib32-vulkan-intel, lib32-vulkan-icd-loader
- Fuentes para Waybar e iconos:
    - noto-fonts, noto-fonts-emoji, noto-fonts-extra
    - ttf-jetbrains-mono-nerd, ttf-nerd-fonts-symbols, otf-font-awesome

Además:

- Habilita SDDM:
      sudo systemctl enable --now sddm
- Habilita NetworkManager:
      sudo systemctl enable --now NetworkManager
- Actualiza la caché de fuentes:
      sudo fc-cache -fv


2.6. Paquetes AUR (yay)
~~~~~~~~~~~~~~~~~~~~~~~

Instala:

- swww           (fondos animados / transiciones)
- eww            (widgets, barras, OSD)
- matugen        (temas basados en el wallpaper)
- rofi           (launcher)
- waybar         (barra de estado)
- wlogout        (menú de logout)
- hyprshot       (capturas de pantalla)
- plymouth-theme-Unrap-git  (tema de Plymouth)
- auto-cpufreq   (gestión de energía en CPU)
- sddm-astronaut-theme (tema de login para SDDM)

Habilita el servicio de auto-cpufreq:

    sudo systemctl enable --now auto-cpufreq.service


2.7. Configuración de Plymouth (pantalla de arranque)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

- Modifica /etc/mkinitcpio.conf para añadir el hook:

    plymouth

dentro de la línea HOOKS=(), de forma segura sin romper el archivo.

- Regenera los initramfs:

    sudo mkinitcpio -P

- Aplica el tema:

    sudo plymouth-set-default-theme -R unrap

- Crea / ajusta:

    /etc/plymouth/plymouthd.conf

con:

    [Daemon]
    Theme=unrap
    ShowDelay=0

y vuelve a ejecutar:

    sudo mkinitcpio -P


2.8. Configuración de systemd-boot
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Si existe el directorio:

    /boot/loader/entries

el script edita cada *.conf y agrega al final de la línea "options":

    quiet splash modprobe.blacklist=nvidia,nvidia_drm,nvidia_uvm,nvidia_modeset

Además, en:

    /boot/loader/loader.conf

ajusta:

    timeout 0


2.9. Brillo (control de brillo por terminal)
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Compila brillo en un directorio temporal:

    git clone https://gitlab.com/cameronnemo/brillo.git
    make
    sudo make install
    sudo make install GROUP=video
    sudo make install.setgid GROUP=video

Luego borra el directorio temporal.


2.10. Limpieza de Xorg y NVIDIA
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Renombra (si existen):

    /etc/X11/xorg.conf
    /etc/X11/xorg.conf.nvidia-xconfig-original

para evitar conflictos en GPUs híbridas.


2.11. Tema de SDDM (login)
~~~~~~~~~~~~~~~~~~~~~~~~~~

Deja configurado:

    /etc/sddm.conf

con:

    [Theme]
    Current=sddm-astronaut-theme

    [General]
    InputMethod=qtvirtualkeyboard

y actualiza de nuevo la caché de fuentes:

    sudo fc-cache -fv



3. Después de instalar
----------------------

Al terminar el script verás un mensaje indicando:

- Dotfiles copiados
- Wallpapers copiados a ~/imagenes/wallpapers
- Plymouth configurado con tema "unrap"
- SDDM usando tema "sddm-astronaut-theme"
- Fuentes e iconos para Waybar
- pamixer listo para el OSD de volumen
- Dolphin instalado como explorador de archivos

Solo queda **reiniciar el sistema**:

    reboot

y entrar en tu sesión de Hyprland.
